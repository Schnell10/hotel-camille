@import '../../styles/_variables.scss';
@import '../../styles/mixin';
@import '../../styles/keyFrames';

.services {
   display: flex;
   width: 100%;
   height: 100%;
   position: relative;
   overflow: hidden;

   @include mobile() {
      flex-direction: column;
   }

   .slideshow {
      aspect-ratio: 1 / 0.46; // Maintient un ratio largeur/hauteur de 1:0.46

      .slideshow-container {
         @include mobile() {
            display: none;
         }
      }

      .slideshow-mobile {
         display: none;

         @include mobile() {
            display: block;
            width: 100%;
            aspect-ratio: 1 / 0.46;
         }
      }
   }

   .slideshow-text {
      width: 58%;

      @include desktop-medium() {
         width: 62%;
      }

      @include desktop-small() {
         width: 64%;
      }

      @include mobile() {
         width: 100%;
      }

      .text-services {
         display: flex;
         flex-direction: column;
         margin: 10% 10% 5% 30%;

         @include desktop-medium() {
            margin: 7% 7% 5% 30%;
         }

         @include desktop-small() {
            margin: 6% 7% 5% 30%;
         }

         @include tablette() {
            margin: 5% 6% 5% 15%;
         }

         @include mobile() {
            width: 85%;
            margin: 60px 7.5% 60px 7.5%;
            gap: 30px;
         }

         &.visible {
            h3 {
               animation: slideFromLeft 1.5s ease forwards;
               animation-delay: 0s;
            }
            .separator {
               animation: slideFromLeft 1.5s ease forwards;
               animation-delay: 1s;
            }
            p {
               animation: slideFromLeft 1.5s ease forwards;
               animation-delay: 1.5s;
            }
            a {
               animation: slideFromLeft 1.5s ease forwards;
               animation-delay: 2s;
            }
         }

         h3 {
            display: flex;
            flex-direction: column;
            font-family: $perpetualight;
            font-weight: 300;
            font-size: 40px;
            opacity: 0;
            transform: translateX(-100%);
            animation-delay: 0s;

            @include desktop-medium() {
               font-size: 35px;
            }

            @include desktop-small() {
               font-size: 32px;
            }

            @include tablette() {
               font-size: 25px;
            }

            @include mobile() {
               font-size: 36px;
            }
         }

         .separator {
            border: 1px solid $grey-color;
            width: 40%;
            margin: 22.5px 0 39.5px 0;
            opacity: 0;
            transform: translateX(-100%);

            @include desktop-medium() {
               margin: 20px 0 30px 0;
            }

            @include desktop-small() {
               margin: 18px 0 27px 0;
            }

            @include tablette() {
               margin: 15px 0 18px 0;
            }

            @include mobile() {
               margin: 0;
            }
         }

         p {
            margin-bottom: 61px;
            font-family: $quicksand;
            font-weight: normal;
            font-size: 16px;
            color: $grey-color;
            margin-left: 45px;
            line-height: 2;
            opacity: 0;
            transform: translateX(-100%);

            @include desktop-medium() {
               font-size: 15px;
               margin-bottom: 50px;
            }

            @include desktop-small() {
               font-size: 14px;
               margin-bottom: 40px;
            }

            @include tablette() {
               font-size: 13px;
               line-height: 1.5;
               margin-bottom: 20px;
            }

            @include mobile() {
               margin: 0;
               font-size: 14px;
               line-height: 2;
            }
         }
         a {
            opacity: 0;
            transform: translateX(-100%);

            .button {
               width: 55%;
               height: 38px;

               button {
                  width: 100%;
                  font-family: $quicksand;
                  font-size: 14px;
                  font-weight: 300;
                  background-color: $white-color;
                  border: 1px solid $grey-color;
                  padding: 22px 0;

                  @include desktop-small() {
                     padding: 18px 0;
                  }

                  @include tablette() {
                     padding: 14px 0;
                     font-size: 13px;
                  }

                  &:hover {
                     width: 90%;

                     @include mobile() {
                        width: 100%;
                     }
                  }
               }
            }
         }
      }
   }
   .parallax-container {
      width: 42%;
      height: 100%;
      aspect-ratio: 1 / 2.3; // Maintient un ratio largeur/hauteur de 1:2.3

      @include desktop-medium() {
         width: 38%;
         aspect-ratio: 1 / 3;
      }

      @include desktop-small() {
         width: 36%;
         aspect-ratio: 1 / 3.2;
      }

      @include mobile() {
         display: none;
      }

      .img-pool {
         width: 100%;
         height: 100%;
         object-fit: cover;
      }
   }
   .parallax-container-two {
      position: absolute;
      bottom: 2.5%;
      left: 22%;
      width: 46%;
      transform: translateY(0);

      @include mobile() {
         transform: none !important; /* désactive le parallax en réinitialisant la transformation */

         position: relative;
         bottom: auto;
         left: auto;
         width: 100%;
      }
   }
}
